@use 'styles/utils';

.subcategories {
    margin-bottom: 160px;

    &__list {
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        position: relative;
        margin-top: 45px;
        padding-top: 20px;
        display: grid;
    }

    .line {
        position: absolute;
        top: 0;
        width: 100%;
        height: 1px;
        background-color: var(--base120);
    }

    &__item {
        a {
            padding: 30px;
            height: 332px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            font: var(--text-base300);
            background-color: var(--bg-light);
        }

        &-title {
            width: 79%;
        }

        &-bottom {
            display: flex;
            justify-content: space-between;
            align-items: end;
        }

        &-icon {
            position: relative;
            @include utils.square(120px);
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: white;

            &::after {
                content: '';
                position: absolute;
                @include utils.circle(80px);
                border: 2px dashed var(--main110);
            }
        }

        &-arrow {
            @include utils.square(40px);
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 2px;
            border: 1px solid var(--main125);
            transition: background-color 300ms linear;

            &::after {
                content: '';
                @include utils.square(10px);
                @include utils.bg-defaults(contain);
                filter: var(--filter-main100);
                background-image: url('assets/icons/double-arrow.svg');
            }
        }

        &:hover {
            .subcategories__item-arrow {
                background-color: var(--main100);
                transition: background-color 300ms linear;

                &::after {
                    filter: var(--filter-white);
                }
            }
        }
    }

    &__button {
        margin-top: 60px;
        justify-content: center;
    }

    &__arrow {
        display: none;
    }
}

@media only screen and (max-width: 1000px) {
    .subcategories {
        margin-bottom: 80px;

        & + .projects {
            padding-top: 0;
        }

        .container {
            padding-top: 20px;
            border-top: 1px solid var(--base120);
        }

        .line {
            display: none;
        }

        &__title {
            position: relative;
            padding-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--base120);
        }

        &__arrow {
            min-width: 30px;
            display: flex;
            @include utils.square(30px);
            justify-content: center;
            align-items: center;
            background-color: var(--main105);
            transition: background-color 300ms linear;

            &::after {
                content: '';
                @include utils.square(10px);
                @include utils.bg-defaults(auto);
                filter: var(--filter-main100);
                background-image: url('assets/icons/arrow.svg');
            }
        }

        &__list {
            grid-template-columns: repeat(1, 1fr);
            margin-top: 0;
            padding-top: 0;
            height: 0;
            overflow-x: hidden;
            opacity: 0;
            visibility: visible;
            transition:
                opacity 300ms linear,
                visibility 300ms linear;
        }

        &__item {
            a {
                padding: 20px;
                height: 204px;
            }

            &-title {
                width: 100%;
                font: var(--text-base400);
            }

            &-icon {
                @include utils.square(80px);

                &::after {
                    @include utils.circle(54px);
                }
            }

            &-arrow {
                @include utils.square(32px);
            }
        }

        &__button {
            margin-top: 31px;
            display: none;
        }

        &._opened {
            .subcategories__list {
                margin-top: 20px;
                padding-top: 15px;
                height: fit-content;
                opacity: 1;
                visibility: visible;
                transition:
                    opacity 300ms linear,
                    visibility 300ms linear;
            }

            .subcategories__arrow {
                background-color: var(--main100);
                transition: background-color 300ms linear;

                &::after {
                    filter: var(--filter-white);
                    transform: rotate(180deg);
                }
            }
        }
    }
}
